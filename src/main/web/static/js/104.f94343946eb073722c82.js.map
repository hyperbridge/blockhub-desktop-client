{"version":3,"sources":["webpack:///src/ui/components/timeline/list.vue","webpack:///./src/ui/components/timeline/list.vue?5836","webpack:///./src/ui/components/timeline/list.vue?5070","webpack:///./src/ui/components/timeline/list.vue","webpack:///./src/ui/components/timeline/list.vue?cc5b","webpack:///./src/ui/components/timeline/list.vue?e2ba"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBA;;AAEA;AACA,yBADA;AAEA,kCAFA;AAGA,QAHA,kBAGA;AACA;AACA,uBADA,EACA;AACA,qBAFA,EAEA;AACA,sBAHA,EAGA;AACA,wBAJA,EAIA;AACA,oBALA,EAKA;AACA,sBANA,CAMA;AANA;AAQA,KAZA;;AAaA;AACA;AAAA,wO,6CAAA;AAAA;AADA,KAbA;AAgBA;AACA,cADA,oBACA;AAAA;;AACA;AACA,oBACA,uCACA,0CAFA,EAGA;AACA;AACA;AACA,qBAFA,MAGA;AACA;AACA;AACA;AACA,aAZA;AAaA;AACA;AAhBA,KAhBA;AAkCA,WAlCA,qBAkCA;AACA;AACA;AACA;AACA;AACA,aAFA,EAEA,OAFA,CAEA;AACA;AAAA,oBACA,4GADA;AAEA;AACA;AACA;AACA,aARA;AASA;AACA;AACA,SAbA,MAaA;AACA;AACA;AACA;AACA,KApDA;;AAqDA;AACA;AACA,cAFA,oBAEA;AACA;AACA;AAJA,KArDA;AA2DA,WA3DA,qBA2DA;AACA;AACA;AACA;AA9DA,G;;;;;;;;;;;ACxBA,yC;;;;;;;;;;;;;;ACAA;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,iBAAiB,6BAA6B,2CAA2C,0CAA0C,iBAAiB,sDAAsD,sCAAsC,yCAAyC,6EAA6E,+BAA+B,OAAO,oBAAoB,sBAAsB,kCAAkC,oFAAoF,6CAA6C;AAClrB;;;;;;;;;;;;;;;;;;;ACDkC;AAClC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gF;;;;;;;;;;;;;;wCCnB+K,0OAAoB,C;;;;;;;;;;;;;;;;ACA6P,ocAAoB,C","file":"static/js/104.f94343946eb073722c82.js","sourcesContent":["<template>\n    <div class=\"posts-timeline\">\n        <template  v-for=\"(item, index) in sliced\" v-if=\"items\">\n            <c-timeline-item :item=\"item\" :index=\"index\" :key=\"index\" :projectID=\"project_id\" />\n            <div class=\"post-timeline__period-info\" v-if=\"item.period\">\n            {{ item.period }}\n            </div>\n        </template>\n        <transition name=\"fade-slow\">\n            <div class=\"posts-timeline__end\" v-if=\"end\">\n                <h3>End of updates</h3>\n            </div>\n            <div class=\"posts-timeline__end no-updates\" v-if=\"!items\">\n                <h3>\n                    There is no updates yet.\n                </h3>\n            </div>\n        </transition>\n    </div>\n</template>\n\n<script>\n    import moment from 'moment';\n\n    export default {\n        name: 'timeline-list',\n        props: ['items', 'project_id'],\n        data(){\n            return{\n                show   : false, // display content after API request\n                offset : 3,     // items to display after scroll\n                display: 5,     // initial items\n                trigger: 150,   // how far from the bottom to trigger infinite scroll\n                list  : [],    // server response data\n                end    : false, // no more updates\n            }\n        },\n        components:{\n            'c-timeline-item': (resolve) => require(['@/ui/components/timeline/item.vue'], resolve)\n        },\n        methods:{\n            scroll() {\n                window.onscroll = ev => {\n                    if (\n                        window.innerHeight + window.scrollY >=\n                        (document.body.offsetHeight - this.trigger)\n                    ) {\n                        if (this.display < this.list.length) {\n                            this.display = this.display + this.offset;\n                        }\n                        else {\n                            this.end = true;\n                        }\n                    }\n                };\n                console.log('done scroll')\n            },\n        },\n        created() {\n            if (this.items){\n                let arr = this.items;\n                arr.sort( ( a, b) => {\n                    return new Date(a.date) - new Date(b.date);\n                }).forEach( (o, i) => {\n                    let d1 = moment(o.date).format('MMMM YYYY'),\n                        d2 = arr[i-1] ? moment(arr[i-1].date).format('MMMM YYYY') : false;\n                    if ( !d2 || d1 != d2 ){\n                        o.period = moment(d1).format('MMMM, YYYY');\n                    }\n                });\n                this.list = arr.reverse();\n                this.show = true;\n            } else {\n                return false\n            }\n            console.log('done create')\n        },\n        computed:{\n            // slice the array of data to display\n            sliced() {\n                return this.list.slice(0, this.display);\n            },\n        },\n        mounted() {\n            console.log('done mounted')\n            this.scroll();\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .posts-timeline,\n    .posts-timeline__period-container{\n        display: flex;\n        flex-direction: column;\n    }\n    .post-timeline__period-info{\n        padding: 3px 20px;\n        border-radius: 5px;\n        background: #fff;\n        text-align: center;\n        color: #30304B;\n        margin: 30px auto;\n        font-weight: bold;\n        position: relative;\n        display: inline-flex;\n        &:after,\n        &:before{\n            content: \"\";\n            position: absolute;\n            left: 50%;\n            margin-left: -1px;\n            display: inline-block;\n            width: 2px;\n            background: rgba(255, 255, 255, .2);\n            height: 30px;\n            top: -30px;\n        }\n        &:after{\n            top: unset;\n            bottom: -30px;\n        }\n        &:last-child{\n\n        }\n    }\n    .posts-timeline__end{\n        width: auto;\n        display: flex;\n        flex-direction: column;\n        position: relative;\n        color: #fff;\n        align-self: center;\n        padding: 20px 30px;\n        border-radius: 5px;\n        text-align: center;\n        background: rgba(0, 0, 0, .3);\n        .post-date{\n            font-size: 13px;\n            font-weight: bold;\n            color: #fff;\n            margin-bottom: 10px;\n        }\n        h3{\n            font-size: 18px;\n            color: #fff;\n            padding: 0;\n            margin: 0;\n        }\n        &:after{\n            content: \"\";\n            position: absolute;\n            top: -10px;\n            width: 20px;\n            height: 20px;\n            background: #fff;\n            border-radius: 100%;\n            display: inline-block;\n        }\n        &:after{\n            left: calc(50% - 10px);\n        }\n        &.no-updates{\n            &:after{\n                display: none;\n            }\n        }\n    }\n</style>\n","// removed by extract-text-webpack-plugin","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"posts-timeline\"},[_vm._l((_vm.sliced),function(item,index){return (_vm.items)?[_c('c-timeline-item',{key:index,attrs:{\"item\":item,\"index\":index,\"projectID\":_vm.project_id}}),_vm._v(\" \"),(item.period)?_c('div',{staticClass:\"post-timeline__period-info\"},[_vm._v(\"\\n        \"+_vm._s(item.period)+\"\\n        \")]):_vm._e()]:_vm._e()}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade-slow\"}},[(_vm.end)?_c('div',{staticClass:\"posts-timeline__end\"},[_c('h3',[_vm._v(\"End of updates\")])]):_vm._e(),_vm._v(\" \"),(!_vm.items)?_c('div',{staticClass:\"posts-timeline__end no-updates\"},[_c('h3',[_vm._v(\"\\n                There is no updates yet.\\n            \")])]):_vm._e()])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=1f4be3a2\"\nimport script from \"./list.vue?vue&type=script&lang=js\"\nexport * from \"./list.vue?vue&type=script&lang=js\"\nimport style0 from \"./list.vue?vue&type=style&index=0&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js\"","import mod from \"-!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--10-0!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/index.js??ref--10-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--10-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=scss\"; export default mod; export * from \"-!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--10-0!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/index.js??ref--10-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--10-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&lang=scss\""],"sourceRoot":""}